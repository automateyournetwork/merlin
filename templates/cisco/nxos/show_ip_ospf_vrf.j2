{% if filetype_loop_jinja2 == "csv" %}VRF,Address Family,Instance,Router ID,Area,Area Type,Authentication,Existed,Enabled,Active Interfaces,Passive Interfaces,Loopback Interfaces,Total Interfaces,Total SPF,Last SPF,Auto Cost Unit,Auto Cost Enabled,Reference Bandwidth,Discard External Route,Discard Interal Route,Graceful Restart Type,Graceful Restart Enabled,Restart Interval,State,NSR Enabled,Active Normal Areas,Active NSSA Areas,Active Stub Areas,Total Active Areas,Number of Paths{% for vrf in to_parse_ip_ospf %}{% for address_family in to_parse_ip_ospf[vrf].address_family %}{% for instance in to_parse_ip_ospf[vrf].address_family[address_family].instance %}{% for graceful_restart in to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].graceful_restart %}{% if to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].areas is defined %}{% for area in to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].areas %}                        
{{ vrf }},{{ address_family }},{{ instance }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].router_id}},{{ area }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].areas[area].area_type }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].areas[area].authentication }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].areas[area].existed }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].enable }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].areas[area].numbers.active_interfaces }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].areas[area].numbers.passive_interfaces }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].areas[area].numbers.loopback_interfaces }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].areas[area].numbers.interfaces }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].areas[area].statistics.spf_runs_count }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].areas[area].statistics.spf_last_run_time }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].auto_cost.bandwidth_unit }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].auto_cost.enable }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].auto_cost.reference_bandwidth }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].discard_route_external }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].discard_route_internal }},{{ graceful_restart }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].graceful_restart[graceful_restart].enable }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].graceful_restart[graceful_restart].restart_interval }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].graceful_restart[graceful_restart].state }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].nsr.enable }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].numbers.active_areas.normal }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].numbers.active_areas.nssa }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].numbers.active_areas.stub }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].numbers.active_areas.total }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].spf_control.paths }}{% endfor %}{% else %}             
{{ vrf }},{{ address_family }},{{ instance }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].router_id}},No Areas,N/A,N/A,N/A,N/A,N/A,N/A,N/A,N/A,N/A,N/A,{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].auto_cost.bandwidth_unit }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].auto_cost.enable }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].auto_cost.reference_bandwidth }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].discard_route_external }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].discard_route_internal }},{{ graceful_restart }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].graceful_restart[graceful_restart].enable }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].graceful_restart[graceful_restart].restart_interval }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].graceful_restart[graceful_restart].state }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].nsr.enable }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].numbers.active_areas.normal }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].numbers.active_areas.nssa }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].numbers.active_areas.stub }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].numbers.active_areas.total }},{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].spf_control.paths }}{% endif %}{% endfor %}{% endfor %}{% endfor %}{% endfor %}{% else %}{% if filetype_loop_jinja2 == "md" %}
# Show IP OPSF 
| VRF | Address Family | Instance | Router ID | Area | Area Type | Authentication | Existed | Enabled | Active Interfaces | Passive Interfaces | Loopback Interfaces | Total Interfaces | Total SPF | Last SPF | Auto Cost Unit | Auto Cost Enabled | Reference Bandwidth | Discard External Route | Discard Interal Route | Graceful Restart Type | Graceful Restart Enabled | Restart Interval | State | NSR Enabled | Active Normal Areas | Active NSSA Areas | Active Stub Areas | Total Active Areas | Number of Paths |
| --- | -------------- | -------- | --------- | ---- | --------- | -------------- | ------- | ------- | ----------------- | ------------------ | ------------------- | ---------------- | --------- | -------- | -------------- | ----------------- | ------------------- | ---------------------- | --------------------- | --------------------- | ------------------------ | ---------------- | ----- | ----------- | ------------------- | ----------------- | ----------------- | ------------------ | --------------- |{% for vrf in to_parse_ip_ospf %}{% for address_family in to_parse_ip_ospf[vrf].address_family %}{% for instance in to_parse_ip_ospf[vrf].address_family[address_family].instance %}{% for graceful_restart in to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].graceful_restart %}{% if to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].areas is defined %}        {% for area in to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].areas %}
| {{ vrf }} | {{ address_family }} | {{ instance }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].router_id}} | {{ area }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].areas[area].area_type }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].areas[area].authentication }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].areas[area].existed }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].enable }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].areas[area].numbers.active_interfaces }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].areas[area].numbers.passive_interfaces }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].areas[area].numbers.loopback_interfaces }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].areas[area].numbers.interfaces }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].areas[area].statistics.spf_runs_count }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].areas[area].statistics.spf_last_run_time }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].auto_cost.bandwidth_unit }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].auto_cost.enable }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].auto_cost.reference_bandwidth }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].discard_route_external }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].discard_route_internal }} | {{ graceful_restart }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].graceful_restart[graceful_restart].enable }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].graceful_restart[graceful_restart].restart_interval }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].graceful_restart[graceful_restart].state }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].nsr.enable }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].numbers.active_areas.normal }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].numbers.active_areas.nssa }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].numbers.active_areas.stub }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].numbers.active_areas.total }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].spf_control.paths }} |{% endfor %}
| {{ vrf }} | {{ address_family }} | {{ instance }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].router_id}} | No Areas | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].auto_cost.bandwidth_unit }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].auto_cost.enable }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].auto_cost.reference_bandwidth }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].discard_route_external }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].discard_route_internal }} | {{ graceful_restart }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].graceful_restart[graceful_restart].enable }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].graceful_restart[graceful_restart].restart_interval }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].graceful_restart[graceful_restart].state }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].nsr.enable }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].numbers.active_areas.normal }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].numbers.active_areas.nssa }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].numbers.active_areas.stub }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].numbers.active_areas.total }} | {{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].spf_control.paths }} |{% else %}{% endif %}{% endfor %}{% endfor %}{% endfor %}{% endfor %}{% else %}
<html><head><link rel="stylesheet" href="../../../styles.css"></head><body>
<h1>Show IP OSPF </h1>
<table style="merlin-table">
  <thead>
  <tr>
    <th>VRF</th>
    <th>Address Family</th>
    <th>Instance</th>
    <th>Router ID</th>
    <th>Area</th>
    <th>Area Type</th>
    <th>Authentication</th>
    <th>Existed</th>
    <th>Enabled</th>
    <th>Active Interfaces</th>
    <th>Passive Interfaces</th>
    <th>Loopback Interfaces</th>
    <th>Total Interfaces</th>
    <th>Total SPF</th>
    <th>Last SPF</th>
    <th>Auto Cost Unit</th>
    <th>Auto Cost Enabled</th>
    <th>Reference Bandwidth</th>
    <th>Discard External Route</th>
    <th>Discard Interal Route</th>
    <th>Graceful Restart Type</th>
    <th>Graceful Restart Enabled</th>
    <th>Restart Interval</th>
    <th>State</th>
    <th>NSR Enabled</th>
    <th>Active Normal Areas</th>
    <th>Active NSSA Areas</th>
    <th>Active Stub Areas</th>
    <th>Total Active Areas</th>
    <th>Number of Paths</th>
  </tr>
  </thead>
  <tbody>{% for vrf in to_parse_ip_ospf %}{% for address_family in to_parse_ip_ospf[vrf].address_family %}{% for instance in to_parse_ip_ospf[vrf].address_family[address_family].instance %}{% for graceful_restart in to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].graceful_restart %}{% if to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].areas is defined %}{% for area in to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].areas %}                  
  <tr>
    <td>{{ vrf }}</td>
    <td>{{ address_family }}</td>
    <td>{{ instance }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].router_id}}</td>
    <td>{{ area }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].areas[area].area_type }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].areas[area].authentication }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].areas[area].existed }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].enable }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].areas[area].numbers.active_interfaces }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].areas[area].numbers.passive_interfaces }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].areas[area].numbers.loopback_interfaces }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].areas[area].numbers.interfaces }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].areas[area].statistics.spf_runs_count }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].areas[area].statistics.spf_last_run_time }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].auto_cost.bandwidth_unit }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].auto_cost.enable }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].auto_cost.reference_bandwidth }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].discard_route_external }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].discard_route_internal }}</td>
    <td>{{ graceful_restart }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].graceful_restart[graceful_restart].enable }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].graceful_restart[graceful_restart].restart_interval }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].graceful_restart[graceful_restart].state }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].nsr.enable }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].numbers.active_areas.normal }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].numbers.active_areas.nssa }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].numbers.active_areas.stub }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].numbers.active_areas.total }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].spf_control.paths }}</td>
  </tr>{% endfor %}{% else %}
  <tr>
    <td>{{ vrf }}</td>
    <td>{{ address_family }}</td>
    <td>{{ instance }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].router_id}}</td>
    <td>No Areas</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].auto_cost.bandwidth_unit }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].auto_cost.enable }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].auto_cost.reference_bandwidth }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].discard_route_external }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].discard_route_internal }}</td>
    <td>{{ graceful_restart }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].graceful_restart[graceful_restart].enable }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].graceful_restart[graceful_restart].restart_interval }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].graceful_restart[graceful_restart].state }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].nsr.enable }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].numbers.active_areas.normal }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].numbers.active_areas.nssa }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].numbers.active_areas.stub }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].numbers.active_areas.total }}</td>
    <td>{{ to_parse_ip_ospf[vrf].address_family[address_family].instance[instance].spf_control.paths }}</td>
  </tr>{% endif %}{% endfor %}{% endfor %}{% endfor %}{% endfor %}
  </tbody>
</table>
</body></html>{% endif %}{% endif %}